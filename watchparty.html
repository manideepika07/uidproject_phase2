<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Party</title>
</head>
<style>
    body {
  margin: 0;
  font-family: sans-serif;
  background-color: #211a1d; /* Dark background */
  color: #d5be99; /* Light text for readability on dark background */
}
.watch-party-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  background-color: #f0f0f0;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  max-width: 800px;
  margin: 20px auto;
  background-color: #211a1d;
}

#moviePlayer {
  margin-bottom: 20px;
  border: 2px solid #4f6f8b;;
  border-radius: 5px;
  width: 100%; /* Make video responsive */
  max-width: 1000px;
  height: auto; 
}

.controls {
  display: flex;
  align-items: center;
  margin-bottom: 20px;
  width: 100%;
  justify-content: center; /* Center the controls */
}

.controls button {
  padding: 12px 20 px;
  margin: 0 10px;
  cursor: pointer;
  border: none;
  border-radius: 5px;
  background-color: #df4236;
   color: #fff;
  font-size: 1.1em;
  transition: background-color 0.3s ease;
}
.controls button:hover{
    background-color: #c8372d;;
}

#progressBar {
  flex: 1;
  margin: 0 10px;
  width: 60%; /* Adjust as needed */
  height: 10px;
  border-radius: 5px;
  background-color: #4f6f8b; /* Progress bar background */
  
  outline: none;
}

#progressBar::-moz-range-thumb {
  width: 16px;
  height: 16px;
  background-color: #df4236; /* Progress bar thumb */
  cursor: pointer;
  border-radius: 50%;
  border: none;
}
#currentTime,
#duration {
  font-size: 0.9em;
  color:#d5be99;
  margin: 0 5px;
}

#chatArea {
  width: 100%;
  height: 150px;
  border: 1px solid #4f6f8b;
  border-radius: 5px;
  margin-bottom: 10px;
  padding: 10px;
  overflow-y: auto;
  background-color: #282124;
  color:#d5be99;
  box-sizing: border-box;
}

#messageInput {
  width: calc(100% - 110px); /* Adjust width based on button width */
  padding: 10px;
  border: 1px solid #4f6f8b;
  border-radius: 5px 0 0 5px;
  margin-right: 0;
  box-sizing: border-box;
  background-color: #282124;
  color: #d5be99;
}
#messageInput::placeholder {
  color: #d5be99;
  opacity: 0.7;
}
#sendBtn {
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 0 5px 5px 0;
  cursor: pointer;
  background-color: #d65147;
  margin-left: 0;
  transition:background-color 0.3s ease;

}
#sendBtn:hover{
    background-color: #c8372d;
}

#participantList {
  width: 100%;
  border: 1px solid #4f6f8b;
  border-radius: 5px;
  padding: 10px;
  margin-top: 10px;
  background-color: #282124;
  color:#d5be99;
  box-sizing: border-box;
}

#participantList ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

#participantList li {
  margin-bottom: 5px;
}

</style>
<body>
    <div class="watch-party-container">
  <video id="moviePlayer" width="1000"height="500"controls></video>
  <div class="controls">
    <button id="playPauseBtn">Play</button>
    <button id="seekBackwardBtn">&lt;&lt;</button>
    <input type="range" id="progressBar" value="0" step="0.01">
    <button id="seekForwardBtn">&gt;&gt;</button>
    <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
  </div>
  <div id="chatArea">
    </div>
  <input type="text" id="messageInput" placeholder="Type your message...">
  <button id="sendBtn">Send</button>
  <div id="participantList">
    </div>
</div>
<script>
    const videoPlayer = document.getElementById('moviePlayer');
const playPauseBtn = document.getElementById('playPauseBtn');
const progressBar = document.getElementById('progressBar');
const currentTimeDisplay = document.getElementById('currentTime');
const durationDisplay = document.getElementById('duration');
const chatArea = document.getElementById('chatArea');
const messageInput = document.getElementById('messageInput');
const sendBtn = document.getElementById('sendBtn');
const participantList = document.getElementById('participantList');

let isPlaying = false;

videoPlayer.src = 'your-movie.mp4';

playPauseBtn.addEventListener('click', () => {
  if (isPlaying) {
    videoPlayer.pause();
    playPauseBtn.textContent = 'Play';
  } else {
    videoPlayer.play();
    playPauseBtn.textContent = 'Pause';
  }
  isPlaying = !isPlaying;
});

videoPlayer.addEventListener('loadedmetadata', () => {
  const duration = formatTime(videoPlayer.duration);
  durationDisplay.textContent = duration;
  progressBar.max = videoPlayer.duration;
});

videoPlayer.addEventListener('timeupdate', () => {
  const currentTime = formatTime(videoPlayer.currentTime);
  currentTimeDisplay.textContent = currentTime;
  progressBar.value = videoPlayer.currentTime;
});

progressBar.addEventListener('input', () => {
  videoPlayer.currentTime = progressBar.value;
});

sendBtn.addEventListener('click', () => {
  const message = messageInput.value.trim();
  if (message) {
    displayMessage('You', message); 
    messageInput.value = '';
  }
});

function displayMessage(sender, text) {
  const messageDiv = document.createElement('div');
  messageDiv.textContent = ${sender}: ${text};
  chatArea.appendChild(messageDiv);
  chatArea.scrollTop = chatArea.scrollHeight; // Scroll to the latest message
}

function formatTime(seconds) {
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = Math.floor(seconds % 60).toString().padStart(2, '0');
  return ${minutes}:${remainingSeconds};
}

function updateParticipantList(participants) {
  participantList.innerHTML = '<h3>Participants:</h3>';
  const ul = document.createElement('ul');
  participants.forEach(participant => {
    const li = document.createElement('li');
    li.textContent = participant;
    ul.appendChild(li);
  });
  participantList.appendChild(ul);
}

const initialParticipants = ['User1', 'User2', 'You'];
updateParticipantList(initialParticipants);
const data = null;

const xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener('readystatechange', function () {
	if (this.readyState === this.DONE) {
		console.log(this.responseText);
	}
});

xhr.open('GET', 'https://streaming-availability.p.rapidapi.com/shows/%7Btype%7D/%7Bid%7D');
xhr.setRequestHeader('x-rapidapi-key', '91d16a88f6mshb310510dfc0a2b7p184efbjsn6bb43bf01c60');
xhr.setRequestHeader('x-rapidapi-host', 'streaming-availability.p.rapidapi.com');

xhr.send(data);
</script></body>
</html>